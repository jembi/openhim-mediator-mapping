"use strict";(self.webpackChunkmapping_mediator=self.webpackChunkmapping_mediator||[]).push([[200],{3905:function(e,n,t){t.d(n,{Zo:function(){return f},kt:function(){return m}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},f=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},l=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,f=c(e,["components","mdxType","originalType","parentName"]),l=p(t),m=a,d=l["".concat(s,".").concat(m)]||l[m]||u[m]||o;return t?r.createElement(d,i(i({ref:n},f),{},{components:t})):r.createElement(d,i({ref:n},f))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=l;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}l.displayName="MDXCreateElement"},2983:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return f},default:function(){return l}});var r=t(3117),a=t(102),o=(t(7294),t(3905)),i=["components"],c={id:"kafka-integration",title:"Kafka Integration",sidebar_label:"Kafka Integration"},s=void 0,p={unversionedId:"features/kafka-integration",id:"features/kafka-integration",title:"Kafka Integration",description:"This mediator has the ability to consume and produce to kafka. The details for accessing the kafka instance can be specified in the config file or via environment variables. Below is an example of the kafka config",source:"@site/docs/features/kafka-integration.md",sourceDirName:"features",slug:"/features/kafka-integration",permalink:"/openhim-mediator-mapping/docs/features/kafka-integration",editUrl:"https://github.com/jembi/openhim-mediator-mapping/edit/master/docs/docs/features/kafka-integration.md",tags:[],version:"current",frontMatter:{id:"kafka-integration",title:"Kafka Integration",sidebar_label:"Kafka Integration"},sidebar:"someSidebar",previous:{title:"Orchestrations",permalink:"/openhim-mediator-mapping/docs/features/orchestration"},next:{title:"Transformation",permalink:"/openhim-mediator-mapping/docs/features/transformation"}},f=[],u={toc:f};function l(e){var n=e.components,t=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This mediator has the ability to consume and produce to kafka. The details for accessing the kafka instance can be specified in the config file or via environment variables. Below is an example of the kafka config"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "kafkaConfig": {\n    "brokers": process.env.KAFKA_BROKERS || "localhost:9092",\n    "clientId": process.env.KAFKA_CLIENTID || "mapping-mediator",\n    "requestTimeout": process.env.KAFKA_REQUEST_TIMEOUT || 60000,\n    "connectionTimeout": process.env.KAFKA_CONNECTION_TIMEOUT || 60000,\n    "groupId": process.env.KAFKA_CONSUMER_GROUPID || "mapping-mediator"\n  }\n}\n')),(0,o.kt)("p",null,"The topics to consume and produce to, can be specified in the endpoint schema like done below"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "name": "External Request - Patient",\n  "endpoint": {\n    "pattern": "/Patient"\n  },\n  "transformation": {\n    "input": "JSON",\n    "output": "JSON"\n  },\n  "kafkaConsumerTopic": "2xx",\n  "requests": {\n    "response": [\n      {\n        "id": "fhirPatient",\n         "kafkaProducerTopic": "3xx"\n      }\n    ]\n  }\n}\n\n')))}l.isMDXComponent=!0}}]);